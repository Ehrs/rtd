<!DOCTYPE html>
<html>

<head>
    <meta charset='utf-8'/>
    <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
    <meta name="description" content="RTD - The Meteor Test Runner: by Xolvio"/>

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>RTD - The Meteor Test Runner: by Xolvio</title>
</head>

<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
    <header class="inner">
        <a id="forkme_banner" href="https://github.com/xolvio/rtd">View on GitHub</a>

        <h1 style="font-size: 41px;" id="project_title">RTD - The Meteor Test Runner</h1>

        <h2 id="project_tagline">by Xolvio</h2>

        <p><a href="http://twitter.com/xolvio">Follow us on Twitter</a> | <a href="https://github.com/xolvio/rtd"> Star
            our GitHub repo</a> | <a href="http://blog.xolv.io">Read our Blog</a></p>
        <section id="downloads">
            <a class="zip_download_link" href="https://github.com/xolvio/rtd/zipball/master">Download this project as a
                .zip file</a>
            <a class="tar_download_link" href="https://github.com/xolvio/rtd/tarball/master">Download this project as a
                tar.gz file</a>
        </section>
    </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
<section id="main_content" class="inner">
<h3>
    <a name="what-is-rtd" class="anchor" href="#what-is-rtd"><span class="octicon octicon-link"></span></a>What
    is RTD</h3>

<hr>
<p>RTD is a test runner for Meteor. It's exactly like having a continuous integration server on your machine.
    Every time you save a file RTD will:</p>

<ul>
    <li>Run all your unit tests in <strong>any browser</strong> [default: PhantomJS]</li>
    <li>Run all your acceptance tests in <strong>any browser</strong> [default: Chrome]</li>
    <li>Combine test coverage from <strong>unit and acceptance</strong> runs</li>
    <li>Check the coverage thresholds and provides a <strong>pretty report</strong> [default: 100%]</li>
</ul>
<p>We have focused our efforts on making RTD as seamless and fast as possible. It will run in the background
    without bothering your workflow and you simply get pass/fail as you develop. </p>

<div style="text-align: center;">
    <iframe width="640" height="480" src="http://www.youtube.com/embed/ESVRDEY-QSk" frameborder="0"
            allowfullscreen></iframe>
</div>

<p>RTD is highly customizable. You can test using any browser, including mobile, and you can choose your testing
    framework like Jasmine (default), Mocha etc.</p>

<h3>
    <a name="instructions" class="anchor" href="#instructions"><span class="octicon octicon-link"></span></a>Instructions
</h3>

<hr>
<p>Ensure you have <a href="http://nodejs.org/download/">node</a> and <a href="http://meteor.com">Meteor</a> and
    that the dependencies below are globally installed (you may need to run this as sudo, depending on your
    setup):
</p>

<p><b>NOTE: Due to a <a href="https://github.com/karma-runner/karma/issues/558#issuecomment-18707232">bug in
    SocketIO</a>, Karma doesn't work with the latest version of Node and therefore unit tests will fail.
    Downgrading to v0.10.5 works.</b></p>

<div class="highlight"><pre><span class="nv">$ </span>npm i -g karma@0.8.6 phantomjs@1.9.0-6 istanbul@0.1.39 grunt-cli selenium-webdriver jasmine-node
</pre>
</div>

<p>If you have any issues with phantomJS, you may need to <a href="https://github.com/xolvio/rtd/issues/9">do
    this</a>.</p>

<p>For growl notifications, you need to install a notifier if you don't already have it:</p>

<div class="highlight">
<pre>MAC:
<span class="nv">$ </span>sudo gem install terminal-notifier
LINUX:
<span class="nv">$ </span>sudo apt-get install libnotify-bin</pre>
</div>

<p>If you get an openssl error, you should do this:</p>

<div class="highlight">
<pre><span class="nv">$ </span>rvm implode
<span class="nv">$ </span>bash -s stable < <(curl -s https://raw.github.com/wayneeseguin/rvm/master/binscripts/rvm-installer)
<span class="nv">$ </span>rvm autolibs enable
<span class="nv">$ </span>rvm reinstall all --force
</pre>
</div>

<p>Next you need to move your meteor code into an app directory the structure of your application as
    follows:</p>

<pre><code>├── &lt;project root&gt;
    │ ├── .git
    │ ├── app
    │ │ └── .meteor
    │ │ └── &lt;your meteor code here&gt;
</code></pre>

<p>RTD will live under the test directory. You can use a git sub-module as follows: (advised method as you'll
    get updates to RTD as we do them)</p>

<div class="highlight">
<pre><span class="nv">$ </span><span class="nb">cd</span> &lt;your project root&gt;
<span class="nv">$ </span>mkdir -p ./test/acceptance/fixtures; mkdir ./test/unit; touch ./test/acceptance/fixtures/empty.js;
<span class="nv">$ </span>git submodule add git@github.com:xolvio/rtd.git ./test/rtd; <span class="nb">cd test</span>/rtd; npm install;
</pre>
</div>

<p>Once the above runs, you should see this:</p>

<pre><code>├── &lt;project root&gt;
    │ ├── .git
    │ ├── app
    │ │ └── .meteor
    │ │ └── &lt;your meteor code here&gt;
    │ ├── test
    │ │ └── acceptance
    │ │ │ └── fixtures
    │ │ │ │ └── empty.js
    │ │ │ └── &lt;your end-to-end tests here&gt;
    │ │ └── rtd
    │ │ │ └── &lt;a whole bunch of stuff&gt;
    │ │ └── unit
    │ │ │ └── &lt;your unit tests here&gt;
</code></pre>

<p>Now every time you start development, just run this: (the first time will take a few minutes as
    selenium-server &amp; chromedriver are downloaded)</p>

<div class="highlight">
<pre><span class="nv">$ </span><span class="nb">cd</span> &lt;your project root&gt;/test/rtd
<span class="nv">$ </span>./rtd
or
<span class="nv">$ </span>./rtd --debug
</pre>
</div>

<p>Enjoy using RTD</p>

<p>To see the actual coverage report in detail, go to <a href="http://localhost:8000/coverage">http://localhost:8000/coverage</a>
</p>

<h2>
    <a name="customizing" class="anchor" href="#customizing"><span class="octicon octicon-link"></span></a>Customizing
</h2>

<p>If you'd like to change any settings, you can do so by copying either or both of <strong>karma.conf.js</strong> and
    <strong>rtd.conf.js</strong> from <strong>&lt;your project root&gt;/test/rtd</strong> to <strong>&lt;your project
        root&gt;/test</strong>. RTD will use these settings file and you can also check them in as part of your project.
    Please see the config files themselves for what the settings do.</p>

<h2>
    <a name="find-out-more" class="anchor" href="#find-out-more"><span class="octicon octicon-link"></span></a>Find
    out more</h2>

<ul>
    <li><a href="http://blog.xolv.io/2013/04/unit-testing-with-meteor.html">Read our blog post on Unit-testing
        with Meteor</a></li>
    <li><a href="http://blog.xolv.io/2013/04/end-to-end-testing-for-web-apps-meteor.html">Read our blog post on
        End-to-end testing with Meteor</a></li>
    <li><a href="https://github.com/xolvio/real-time-development-with-meteor">See an example of RTD with Meteor
        + Leaderboard sample app</a></li>
</ul>
<h3>
    <a name="rtd-philosophy" class="anchor" href="#rtd-philosophy"><span
            class="octicon octicon-link"></span></a>RTD Philosophy</h3>

<hr>
<p>The ability to capture and deal with feedback is a great indicator of quality, both of working practices and
    the end deliverable. Feedback comes in all shapes and sizes and <strong>the earlier feedback can be
        captured, the easier and cheaper it is to deal with</strong>. </p>

<p>What if we could get feedback in realtime? It's an ideal for sure, but consider the trends of Agile
    development, lean startups, super fast test executions with file watcher triggers and so forth. You could
    say we're not that far off from this ideal with all the magic efforts the community has put in.</p>

<p>From a developer's perspective, here are the key feedback areas and how they are detected:</p>

<table>
    <tr>
        <th>Feedback</th>
        <th>Detection mechanisms</th>
        <th>Currently Implemented</th>
    </tr>
    <tr>
        <td>Code quality</td>
        <td>Static analysis</td>
        <td>Test Coverage</td>
    </tr>
    <tr>
        <td>Regression</td>
        <td>Automated testing</td>
        <td>Unit &amp; end-to-end acceptance</td>
    </tr>
    <tr>
        <td>Exceptions</td>
        <td>Logging</td>
        <td><em>Coming Soon</em></td>
    </tr>
    <tr>
        <td>Performance</td>
        <td>Monitoring</td>
        <td><em>Coming Soon</em></td>
    </tr>
</table>
<p>Of course each one of those detection mechanisms needs to be implemented, and this is often missed out all
    together in an end-to-end deployment pipeline, let alone on an individual developer's machine. RTD is the
    toolset and wiring required to get the above-mentioned feedback locally, in realtime.</p>


<!--
<h2>
    <a name="faq" class="anchor" href="#faq"><span class="octicon octicon-link"></span></a>FAQ
</h2>

<ul>
    <li style="list-style: none;">
        <p><strong>Q: </strong></p>

        <p><i>A: </i></p>
    </li>
    <li style="list-style: none;">
        <p><strong>Q: </strong></p>

        <p><i>A: </i></p>
    </li>
    <li style="list-style: none;">
        <p><strong>Q: </strong></p>

        <p><i>A: </i></p>
    </li>
</ul>
-->

</section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
    <footer class="inner">
        <p class="copyright">RTD from Xolvio maintained by <a href="https://github.com/xolvio">xolvio</a></p>

        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
    </footer>
</div>

<script type="text/javascript">
    var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
    document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
</script>
<script type="text/javascript">
    try {
        var pageTracker = _gat._getTracker("UA-41487105-1");
        pageTracker._trackPageview();
    } catch (err) {
    }
</script>


</body>
</html>
